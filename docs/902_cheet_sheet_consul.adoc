.Consul CLI cheatsheet
|===
|Description |Command


|Validate config
a|[source,shell]
----
consul validate /etc/consul.d/
----

|Start consul server as user consul
a|[source,shell]
----
sudo -H -u consul bash -c 'consul agent -config-dir=/etc/consul.d'
----
|Test consul DNS
a|[source,shell]
----
dig @127.0.0.1 -p 8600 consul.service.consul SRV
----

|Metrics API
a|[source,shell]
----
https://consul.cloud.private/v1/agent/host
----

|Write consul connect service default
a|[source,shell]
----
Create file  service.json
{
    "Kind": "service-defaults",
    "Name": "count-dashboard",
    "Protocol": "http"
}
consul config write service.json
----

|List services
a|[source,shell]
----
consul catalog services
----

|Service details
a|[source,shell]
----
consul watch -type  service -service <service name>
----

|===

